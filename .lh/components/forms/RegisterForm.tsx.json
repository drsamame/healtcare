{
    "sourceFile": "components/forms/RegisterForm.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 43,
            "patches": [
                {
                    "date": 1721202372281,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1721202408544,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n import { createUser } from '@/lib/actions/patient.actions';\r\n import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n import { Doctors, genderOptions, PatientFormDefaultValues } from '@/constants';\r\n import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@radix-ui/react-select';\r\n+import { SelectItem } from '@/components/ui/select';\r\n import Image from 'next/image';\r\n import { PatientFormValidation } from '@/lib/validation';\r\n \r\n const RegisterForm = ({ user }: { user: User }) => {\r\n"
                },
                {
                    "date": 1721239866080,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,229 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import { Doctors, genderOptions, PatientFormDefaultValues } from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721239882316,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -208,9 +208,9 @@\n \t\t\t\t\t\t/>\r\n \t\t\t\t\t\t<CustomFormField\r\n \t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n \t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n \t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n \t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n \t\t\t\t\t\t/>\r\n \t\t\t\t\t</div>\r\n@@ -226,217 +226,4 @@\n \t);\r\n };\r\n \r\n export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import { Doctors, genderOptions, PatientFormDefaultValues } from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n"
                },
                {
                    "date": 1721241325809,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -209,9 +209,9 @@\n \t\t\t\t\t\t<CustomFormField\r\n \t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n \t\t\t\t\t\t\tcontrol={form.control}\r\n \t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n \t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n \t\t\t\t\t\t/>\r\n \t\t\t\t\t</div>\r\n \t\t\t\t</section>\r\n"
                },
                {
                    "date": 1721241338297,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -210,9 +210,9 @@\n \t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n \t\t\t\t\t\t\tcontrol={form.control}\r\n \t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n \t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n \t\t\t\t\t\t/>\r\n \t\t\t\t\t</div>\r\n \t\t\t\t</section>\r\n \t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n"
                },
                {
                    "date": 1721241400065,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -213,8 +213,24 @@\n \t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n \t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n \t\t\t\t\t\t/>\r\n \t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n \t\t\t\t</section>\r\n \t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n \t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n \t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n"
                },
                {
                    "date": 1721241758565,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,245 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import { Doctors, genderOptions, PatientFormDefaultValues } from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721241765990,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,245 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import { Doctors, genderOptions, PatientFormDefaultValues } from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721243160528,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,261 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import { Doctors, genderOptions, PatientFormDefaultValues } from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721243445728,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,261 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import { Doctors, genderOptions, PatientFormDefaultValues } from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721243470496,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -234,15 +234,15 @@\n \t\t\t\t\t\t<CustomFormField\r\n \t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n \t\t\t\t\t\t\tcontrol={form.control}\r\n \t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t\tlabel=\"\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n \t\t\t\t\t\t/>\r\n \t\t\t\t\t\t<CustomFormField\r\n \t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n \t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n \t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n \t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n \t\t\t\t\t\t/>\r\n \t\t\t\t\t</div>\r\n"
                },
                {
                    "date": 1721243480860,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -234,9 +234,9 @@\n \t\t\t\t\t\t<CustomFormField\r\n \t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n \t\t\t\t\t\t\tcontrol={form.control}\r\n \t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n \t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n \t\t\t\t\t\t/>\r\n \t\t\t\t\t\t<CustomFormField\r\n \t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n@@ -258,1000 +258,4 @@\n \t);\r\n };\r\n \r\n export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import { Doctors, genderOptions, PatientFormDefaultValues } from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import { Doctors, genderOptions, PatientFormDefaultValues } from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import { Doctors, genderOptions, PatientFormDefaultValues } from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import { Doctors, genderOptions, PatientFormDefaultValues } from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n"
                },
                {
                    "date": 1721243506817,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -241,10 +241,10 @@\n \t\t\t\t\t\t<CustomFormField\r\n \t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n \t\t\t\t\t\t\tcontrol={form.control}\r\n \t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n \t\t\t\t\t\t/>\r\n \t\t\t\t\t</div>\r\n \t\t\t\t</section>\r\n \t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n"
                },
                {
                    "date": 1721243511941,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,261 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import { Doctors, genderOptions, PatientFormDefaultValues } from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721243572447,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,267 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import { Doctors, genderOptions, PatientFormDefaultValues } from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721250609235,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,290 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import { Doctors, genderOptions, PatientFormDefaultValues } from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationType\"\r\n+\t\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721250623460,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,290 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import { Doctors, genderOptions, IdentificationTypes, PatientFormDefaultValues } from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationType\"\r\n+\t\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{IdentificationTypes.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721250731024,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,286 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import {\r\n+\tDoctors,\r\n+\tgenderOptions,\r\n+\tIdentificationTypes,\r\n+\tPatientFormDefaultValues,\r\n+} from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<CustomFormField\r\n+\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\tname=\"identificationType\"\r\n+\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n+\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n+\t\t\t\t>\r\n+\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n+\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n+\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\"></div>\r\n+\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t))}\r\n+\t\t\t\t</CustomFormField>\r\n+\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721251112350,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -265,11 +265,12 @@\n \t\t\t\t\tlabel=\"Tipo de identificación\"\r\n \t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n \t\t\t\t>\r\n \t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n-\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n-\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\"></div>\r\n-\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t<SelectItem\r\n+\t\t\t\t\t\t\tkey={identification}\r\n+\t\t\t\t\t\t\tvalue={identification}\r\n+\t\t\t\t\t\t></SelectItem>\r\n \t\t\t\t\t))}\r\n \t\t\t\t</CustomFormField>\r\n \r\n \t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n"
                },
                {
                    "date": 1721251263244,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,289 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import {\r\n+\tDoctors,\r\n+\tgenderOptions,\r\n+\tIdentificationTypes,\r\n+\tPatientFormDefaultValues,\r\n+} from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<CustomFormField\r\n+\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\tname=\"identificationType\"\r\n+\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n+\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n+\t\t\t\t>\r\n+\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n+\t\t\t\t\t\t<SelectItem\r\n+\t\t\t\t\t\t\tkey={identification}\r\n+\t\t\t\t\t\t\tvalue={identification}\r\n+\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t{identification}\r\n+\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t))}\r\n+\t\t\t\t</CustomFormField>\r\n+\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721251645071,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -265,303 +265,20 @@\n \t\t\t\t\tlabel=\"Tipo de identificación\"\r\n \t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n \t\t\t\t>\r\n \t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n-\t\t\t\t\t\t<SelectItem\r\n-\t\t\t\t\t\t\tkey={identification}\r\n-\t\t\t\t\t\t\tvalue={identification}\r\n-\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n \t\t\t\t\t\t\t{identification}\r\n \t\t\t\t\t\t</SelectItem>\r\n \t\t\t\t\t))}\r\n \t\t\t\t</CustomFormField>\r\n-\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import {\r\n-\tDoctors,\r\n-\tgenderOptions,\r\n-\tIdentificationTypes,\r\n-\tPatientFormDefaultValues,\r\n-} from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n \t\t\t\t<CustomFormField\r\n-\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n \t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\tname=\"identificationType\"\r\n-\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n-\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n-\t\t\t\t>\r\n-\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n-\t\t\t\t\t\t<SelectItem\r\n-\t\t\t\t\t\t\tkey={identification}\r\n-\t\t\t\t\t\t\tvalue={identification}\r\n-\t\t\t\t\t\t></SelectItem>\r\n-\t\t\t\t\t))}\r\n-\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\tname=\"identificationNumber\"\r\n+\t\t\t\t\tlabel=\"Número de identificación\"\r\n+\t\t\t\t\tplaceholder=\"1234565789\"\r\n+\t\t\t\t/>\r\n \r\n \t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n \t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n \t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n@@ -573,1373 +290,4 @@\n \t);\r\n };\r\n \r\n export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import { Doctors, genderOptions, IdentificationTypes, PatientFormDefaultValues } from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationType\"\r\n-\t\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{IdentificationTypes.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import { Doctors, genderOptions, PatientFormDefaultValues } from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationType\"\r\n-\t\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import { Doctors, genderOptions, PatientFormDefaultValues } from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import { Doctors, genderOptions, PatientFormDefaultValues } from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import { Doctors, genderOptions, PatientFormDefaultValues } from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n"
                },
                {
                    "date": 1721251674346,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,320 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import {\r\n+\tDoctors,\r\n+\tgenderOptions,\r\n+\tIdentificationTypes,\r\n+\tPatientFormDefaultValues,\r\n+} from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<CustomFormField\r\n+\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\tname=\"identificationType\"\r\n+\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n+\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n+\t\t\t\t>\r\n+\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n+\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n+\t\t\t\t\t\t\t{identification}\r\n+\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t))}\r\n+\t\t\t\t</CustomFormField>\r\n+\t\t\t\t<CustomFormField\r\n+\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\tname=\"identificationNumber\"\r\n+\t\t\t\t\tlabel=\"Número de identificación\"\r\n+\t\t\t\t\tplaceholder=\"1234565789\"\r\n+\t\t\t\t/>\r\n+\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721251731340,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -252,29 +252,13 @@\n \t\t\t\t\t\t/>\r\n \t\t\t\t\t\t<CustomFormField\r\n \t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n \t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\tname=\"identificationDocument\"\r\n+\t\t\t\t\t\t\tlabel=\" Subir documento de identificación\"\r\n \t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n \t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t\tFileUpload\r\n \t\t\t\t\t\t\t\t</FormControl>\r\n \t\t\t\t\t\t\t)}\r\n \t\t\t\t\t\t/>\r\n \t\t\t\t\t</div>\r\n"
                },
                {
                    "date": 1721251738122,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,300 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import {\r\n+\tDoctors,\r\n+\tgenderOptions,\r\n+\tIdentificationTypes,\r\n+\tPatientFormDefaultValues,\r\n+} from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"identificationDocument\"\r\n+\t\t\t\t\t\t\tlabel=\" Subir documento de identificación\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => <FormControl>FileUpload</FormControl>}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<CustomFormField\r\n+\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\tname=\"identificationType\"\r\n+\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n+\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n+\t\t\t\t>\r\n+\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n+\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n+\t\t\t\t\t\t\t{identification}\r\n+\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t))}\r\n+\t\t\t\t</CustomFormField>\r\n+\t\t\t\t<CustomFormField\r\n+\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\tname=\"identificationNumber\"\r\n+\t\t\t\t\tlabel=\"Número de identificación\"\r\n+\t\t\t\t\tplaceholder=\"1234565789\"\r\n+\t\t\t\t/>\r\n+\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721251810291,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,300 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import {\r\n+\tDoctors,\r\n+\tgenderOptions,\r\n+\tIdentificationTypes,\r\n+\tPatientFormDefaultValues,\r\n+} from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"identificationDocument\"\r\n+\t\t\t\t\t\t\tlabel=\" Subir documento de identificación\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => <FormControl>FileUpload</FormControl>}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<CustomFormField\r\n+\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\tname=\"identificationType\"\r\n+\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n+\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n+\t\t\t\t>\r\n+\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n+\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n+\t\t\t\t\t\t\t{identification}\r\n+\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t))}\r\n+\t\t\t\t</CustomFormField>\r\n+\t\t\t\t<CustomFormField\r\n+\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\tname=\"identificationNumber\"\r\n+\t\t\t\t\tlabel=\"Número de identificación\"\r\n+\t\t\t\t\tplaceholder=\"1234565789\"\r\n+\t\t\t\t/>\r\n+\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721252006513,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,300 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import {\r\n+\tDoctors,\r\n+\tgenderOptions,\r\n+\tIdentificationTypes,\r\n+\tPatientFormDefaultValues,\r\n+} from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"identificationDocument\"\r\n+\t\t\t\t\t\t\tlabel=\" Subir documento de identificación\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => <FormControl>FileUpload</FormControl>}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<CustomFormField\r\n+\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\tname=\"identificationType\"\r\n+\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n+\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n+\t\t\t\t>\r\n+\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n+\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n+\t\t\t\t\t\t\t{identification}\r\n+\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t))}\r\n+\t\t\t\t</CustomFormField>\r\n+\t\t\t\t<CustomFormField\r\n+\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\tname=\"identificationNumber\"\r\n+\t\t\t\t\tlabel=\"Número de identificación\"\r\n+\t\t\t\t\tplaceholder=\"1234565789\"\r\n+\t\t\t\t/>\r\n+\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721252026120,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -253,9 +253,9 @@\n \t\t\t\t\t\t<CustomFormField\r\n \t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n \t\t\t\t\t\t\tcontrol={form.control}\r\n \t\t\t\t\t\t\tname=\"identificationDocument\"\r\n-\t\t\t\t\t\t\tlabel=\" Subir documento de identificación\"\r\n+\t\t\t\t\t\t\tlabel=\"Subir documento de identificación\"\r\n \t\t\t\t\t\t\trenderSkeleton={(field) => <FormControl>FileUpload</FormControl>}\r\n \t\t\t\t\t\t/>\r\n \t\t\t\t\t</div>\r\n \t\t\t\t</section>\r\n@@ -297,1201 +297,4 @@\n \t);\r\n };\r\n \r\n export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import {\r\n-\tDoctors,\r\n-\tgenderOptions,\r\n-\tIdentificationTypes,\r\n-\tPatientFormDefaultValues,\r\n-} from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"identificationDocument\"\r\n-\t\t\t\t\t\t\tlabel=\" Subir documento de identificación\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => <FormControl>FileUpload</FormControl>}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<CustomFormField\r\n-\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\tname=\"identificationType\"\r\n-\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n-\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n-\t\t\t\t>\r\n-\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n-\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n-\t\t\t\t\t\t\t{identification}\r\n-\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t))}\r\n-\t\t\t\t</CustomFormField>\r\n-\t\t\t\t<CustomFormField\r\n-\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\tname=\"identificationNumber\"\r\n-\t\t\t\t\tlabel=\"Número de identificación\"\r\n-\t\t\t\t\tplaceholder=\"1234565789\"\r\n-\t\t\t\t/>\r\n-\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import {\r\n-\tDoctors,\r\n-\tgenderOptions,\r\n-\tIdentificationTypes,\r\n-\tPatientFormDefaultValues,\r\n-} from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"identificationDocument\"\r\n-\t\t\t\t\t\t\tlabel=\" Subir documento de identificación\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => <FormControl>FileUpload</FormControl>}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<CustomFormField\r\n-\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\tname=\"identificationType\"\r\n-\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n-\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n-\t\t\t\t>\r\n-\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n-\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n-\t\t\t\t\t\t\t{identification}\r\n-\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t))}\r\n-\t\t\t\t</CustomFormField>\r\n-\t\t\t\t<CustomFormField\r\n-\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\tname=\"identificationNumber\"\r\n-\t\t\t\t\tlabel=\"Número de identificación\"\r\n-\t\t\t\t\tplaceholder=\"1234565789\"\r\n-\t\t\t\t/>\r\n-\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import {\r\n-\tDoctors,\r\n-\tgenderOptions,\r\n-\tIdentificationTypes,\r\n-\tPatientFormDefaultValues,\r\n-} from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"identificationDocument\"\r\n-\t\t\t\t\t\t\tlabel=\" Subir documento de identificación\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\tFileUpload\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<CustomFormField\r\n-\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\tname=\"identificationType\"\r\n-\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n-\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n-\t\t\t\t>\r\n-\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n-\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n-\t\t\t\t\t\t\t{identification}\r\n-\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t))}\r\n-\t\t\t\t</CustomFormField>\r\n-\t\t\t\t<CustomFormField\r\n-\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\tname=\"identificationNumber\"\r\n-\t\t\t\t\tlabel=\"Número de identificación\"\r\n-\t\t\t\t\tplaceholder=\"1234565789\"\r\n-\t\t\t\t/>\r\n-\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import {\r\n-\tDoctors,\r\n-\tgenderOptions,\r\n-\tIdentificationTypes,\r\n-\tPatientFormDefaultValues,\r\n-} from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<CustomFormField\r\n-\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\tname=\"identificationType\"\r\n-\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n-\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n-\t\t\t\t>\r\n-\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n-\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n-\t\t\t\t\t\t\t{identification}\r\n-\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t))}\r\n-\t\t\t\t</CustomFormField>\r\n-\t\t\t\t<CustomFormField\r\n-\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\tname=\"identificationNumber\"\r\n-\t\t\t\t\tlabel=\"Número de identificación\"\r\n-\t\t\t\t\tplaceholder=\"1234565789\"\r\n-\t\t\t\t/>\r\n-\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n"
                },
                {
                    "date": 1721252176722,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,300 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import {\r\n+\tDoctors,\r\n+\tgenderOptions,\r\n+\tIdentificationTypes,\r\n+\tPatientFormDefaultValues,\r\n+} from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationDocument\"\r\n+\t\t\t\t\t\tlabel=\"Subir documento de identificación\"\r\n+\t\t\t\t\t\trenderSkeleton={(field) => <FormControl>FileUpload</FormControl>}\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<CustomFormField\r\n+\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\tname=\"identificationType\"\r\n+\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n+\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n+\t\t\t\t>\r\n+\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n+\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n+\t\t\t\t\t\t\t{identification}\r\n+\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t))}\r\n+\t\t\t\t</CustomFormField>\r\n+\t\t\t\t<CustomFormField\r\n+\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\tname=\"identificationNumber\"\r\n+\t\t\t\t\tlabel=\"Número de identificación\"\r\n+\t\t\t\t\tplaceholder=\"1234565789\"\r\n+\t\t\t\t/>\r\n+\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721252190664,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -297,304 +297,4 @@\n \t);\r\n };\r\n \r\n export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import {\r\n-\tDoctors,\r\n-\tgenderOptions,\r\n-\tIdentificationTypes,\r\n-\tPatientFormDefaultValues,\r\n-} from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"identificationDocument\"\r\n-\t\t\t\t\t\t\tlabel=\"Subir documento de identificación\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => <FormControl>FileUpload</FormControl>}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<CustomFormField\r\n-\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\tname=\"identificationType\"\r\n-\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n-\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n-\t\t\t\t>\r\n-\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n-\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n-\t\t\t\t\t\t\t{identification}\r\n-\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t))}\r\n-\t\t\t\t</CustomFormField>\r\n-\t\t\t\t<CustomFormField\r\n-\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\tname=\"identificationNumber\"\r\n-\t\t\t\t\tlabel=\"Número de identificación\"\r\n-\t\t\t\t\tplaceholder=\"1234565789\"\r\n-\t\t\t\t/>\r\n-\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n"
                },
                {
                    "date": 1721252240506,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,300 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import {\r\n+\tDoctors,\r\n+\tgenderOptions,\r\n+\tIdentificationTypes,\r\n+\tPatientFormDefaultValues,\r\n+} from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<CustomFormField\r\n+\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\tname=\"identificationType\"\r\n+\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n+\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n+\t\t\t\t>\r\n+\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n+\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n+\t\t\t\t\t\t\t{identification}\r\n+\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t))}\r\n+\t\t\t\t</CustomFormField>\r\n+\t\t\t\t<CustomFormField\r\n+\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\tname=\"identificationNumber\"\r\n+\t\t\t\t\tlabel=\"Número de identificación\"\r\n+\t\t\t\t\tplaceholder=\"1234565789\"\r\n+\t\t\t\t/>\r\n+\t\t\t\t<CustomFormField\r\n+\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\tname=\"identificationDocument\"\r\n+\t\t\t\t\tlabel=\"Subir documento de identificación\"\r\n+\t\t\t\t\trenderSkeleton={(field) => <FormControl>FileUpload</FormControl>}\r\n+\t\t\t\t/>\r\n+\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721252262480,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -255,338 +255,38 @@\n \t\t\t\t<section className=\"mb-12 space-y-6\">\r\n \t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n \t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n \t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n \r\n-\t\t\t\t<CustomFormField\r\n-\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\tname=\"identificationType\"\r\n-\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n-\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n-\t\t\t\t>\r\n-\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n-\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n-\t\t\t\t\t\t\t{identification}\r\n-\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t))}\r\n-\t\t\t\t</CustomFormField>\r\n-\t\t\t\t<CustomFormField\r\n-\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\tname=\"identificationNumber\"\r\n-\t\t\t\t\tlabel=\"Número de identificación\"\r\n-\t\t\t\t\tplaceholder=\"1234565789\"\r\n-\t\t\t\t/>\r\n-\t\t\t\t<CustomFormField\r\n-\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\tname=\"identificationDocument\"\r\n-\t\t\t\t\tlabel=\"Subir documento de identificación\"\r\n-\t\t\t\t\trenderSkeleton={(field) => <FormControl>FileUpload</FormControl>}\r\n-\t\t\t\t/>\r\n-\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import {\r\n-\tDoctors,\r\n-\tgenderOptions,\r\n-\tIdentificationTypes,\r\n-\tPatientFormDefaultValues,\r\n-} from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n \t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n \t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n \t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t\tname=\"identificationType\"\r\n+\t\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n \t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n+\t\t\t\t\t\t\t\t{identification}\r\n \t\t\t\t\t\t\t</SelectItem>\r\n \t\t\t\t\t\t))}\r\n \t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n \t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationNumber\"\r\n+\t\t\t\t\t\tlabel=\"Número de identificación\"\r\n+\t\t\t\t\t\tplaceholder=\"1234565789\"\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t\t<CustomFormField\r\n \t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n \t\t\t\t\t\tcontrol={form.control}\r\n \t\t\t\t\t\tname=\"identificationDocument\"\r\n \t\t\t\t\t\tlabel=\"Subir documento de identificación\"\r\n \t\t\t\t\t\trenderSkeleton={(field) => <FormControl>FileUpload</FormControl>}\r\n \t\t\t\t\t/>\r\n \t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n \r\n-\t\t\t\t<CustomFormField\r\n-\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\tname=\"identificationType\"\r\n-\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n-\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n-\t\t\t\t>\r\n-\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n-\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n-\t\t\t\t\t\t\t{identification}\r\n-\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t))}\r\n-\t\t\t\t</CustomFormField>\r\n-\t\t\t\t<CustomFormField\r\n-\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\tname=\"identificationNumber\"\r\n-\t\t\t\t\tlabel=\"Número de identificación\"\r\n-\t\t\t\t\tplaceholder=\"1234565789\"\r\n-\t\t\t\t/>\r\n-\r\n \t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n \t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n \t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n \t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n"
                },
                {
                    "date": 1721252311220,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,8 +19,9 @@\n import { Label } from '@/components/ui/label';\r\n import { SelectItem } from '@/components/ui/select';\r\n import Image from 'next/image';\r\n import { PatientFormValidation } from '@/lib/validation';\r\n+import FileUploader from '../FileUploader';\r\n \r\n const RegisterForm = ({ user }: { user: User }) => {\r\n \tconst router = useRouter();\r\n \tconst [isLoading, setIsLoading] = useState(false);\r\n@@ -281,9 +282,13 @@\n \t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n \t\t\t\t\t\tcontrol={form.control}\r\n \t\t\t\t\t\tname=\"identificationDocument\"\r\n \t\t\t\t\t\tlabel=\"Subir documento de identificación\"\r\n-\t\t\t\t\t\trenderSkeleton={(field) => <FormControl>FileUpload</FormControl>}\r\n+\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t<FileUploader></FileUploader>\r\n+\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t)}\r\n \t\t\t\t\t/>\r\n \t\t\t\t</section>\r\n \r\n \t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n"
                },
                {
                    "date": 1721253000415,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,305 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import {\r\n+\tDoctors,\r\n+\tgenderOptions,\r\n+\tIdentificationTypes,\r\n+\tPatientFormDefaultValues,\r\n+} from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+import { FileUploader } from '../FileUploader';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationType\"\r\n+\t\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n+\t\t\t\t\t\t\t\t{identification}\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationNumber\"\r\n+\t\t\t\t\t\tlabel=\"Número de identificación\"\r\n+\t\t\t\t\t\tplaceholder=\"1234565789\"\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationDocument\"\r\n+\t\t\t\t\t\tlabel=\"Subir documento de identificación\"\r\n+\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t<FileUploader></FileUploader>\r\n+\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t)}\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721256115247,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,308 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import {\r\n+\tDoctors,\r\n+\tgenderOptions,\r\n+\tIdentificationTypes,\r\n+\tPatientFormDefaultValues,\r\n+} from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+import { FileUploader } from '../FileUploader';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationType\"\r\n+\t\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n+\t\t\t\t\t\t\t\t{identification}\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationNumber\"\r\n+\t\t\t\t\t\tlabel=\"Número de identificación\"\r\n+\t\t\t\t\t\tplaceholder=\"1234565789\"\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationDocument\"\r\n+\t\t\t\t\t\tlabel=\"Subir documento de identificación\"\r\n+\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t<FileUploader\r\n+\t\t\t\t\t\t\t\t\tfiles={field.value}\r\n+\t\t\t\t\t\t\t\t\tonChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t></FileUploader>\r\n+\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t)}\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721337866735,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,314 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import {\r\n+\tDoctors,\r\n+\tgenderOptions,\r\n+\tIdentificationTypes,\r\n+\tPatientFormDefaultValues,\r\n+} from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+import { FileUploader } from '../FileUploader';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationType\"\r\n+\t\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n+\t\t\t\t\t\t\t\t{identification}\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationNumber\"\r\n+\t\t\t\t\t\tlabel=\"Número de identificación\"\r\n+\t\t\t\t\t\tplaceholder=\"1234565789\"\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationDocument\"\r\n+\t\t\t\t\t\tlabel=\"Subir documento de identificación\"\r\n+\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t<FileUploader\r\n+\t\t\t\t\t\t\t\t\tfiles={field.value}\r\n+\t\t\t\t\t\t\t\t\tonChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t></FileUploader>\r\n+\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t)}\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Consentimiento y Privacidad</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721337873443,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -296,9 +296,15 @@\n \t\t\t\t<section className=\"mb-12 space-y-6\">\r\n \t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n \t\t\t\t\t\t<h2 className=\"sub-header\">Consentimiento y Privacidad</h2>\r\n \t\t\t\t\t</div>\r\n-\t\t\t\t\t\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationNumber\"\r\n+\t\t\t\t\t\tlabel=\"Número de identificación\"\r\n+\t\t\t\t\t\tplaceholder=\"1234565789\"\r\n+\t\t\t\t\t/>\r\n \t\t\t\t</section>\r\n \r\n \t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n \t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n"
                },
                {
                    "date": 1721337914670,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,319 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import {\r\n+\tDoctors,\r\n+\tgenderOptions,\r\n+\tIdentificationTypes,\r\n+\tPatientFormDefaultValues,\r\n+} from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+import { FileUploader } from '../FileUploader';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationType\"\r\n+\t\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n+\t\t\t\t\t\t\t\t{identification}\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationNumber\"\r\n+\t\t\t\t\t\tlabel=\"Número de identificación\"\r\n+\t\t\t\t\t\tplaceholder=\"1234565789\"\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationDocument\"\r\n+\t\t\t\t\t\tlabel=\"Subir documento de identificación\"\r\n+\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t<FileUploader\r\n+\t\t\t\t\t\t\t\t\tfiles={field.value}\r\n+\t\t\t\t\t\t\t\t\tonChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t></FileUploader>\r\n+\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t)}\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Consentimiento y Privacidad</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.CHECKBOX}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"tratmentConsent\"\r\n+\t\t\t\t\t\tlabel=\"Yo conciento a recibir tratamiento para mi condición médica.\"\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721338004789,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,325 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import {\r\n+\tDoctors,\r\n+\tgenderOptions,\r\n+\tIdentificationTypes,\r\n+\tPatientFormDefaultValues,\r\n+} from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+import { FileUploader } from '../FileUploader';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationType\"\r\n+\t\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n+\t\t\t\t\t\t\t\t{identification}\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationNumber\"\r\n+\t\t\t\t\t\tlabel=\"Número de identificación\"\r\n+\t\t\t\t\t\tplaceholder=\"1234565789\"\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationDocument\"\r\n+\t\t\t\t\t\tlabel=\"Subir documento de identificación\"\r\n+\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t<FileUploader\r\n+\t\t\t\t\t\t\t\t\tfiles={field.value}\r\n+\t\t\t\t\t\t\t\t\tonChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t></FileUploader>\r\n+\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t)}\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Consentimiento y Privacidad</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.CHECKBOX}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"tratmentConsent\"\r\n+\t\t\t\t\t\tlabel=\"Yo conciento a recibir tratamiento para mi condición médica.\"\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.CHECKBOX}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"disclosureConsent\"\r\n+\t\t\t\t\t\tlabel=\"Yo conciento el uso de mi información médica para tratamiento y diagnóstico.\"\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721338040360,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -308,326 +308,13 @@\n \t\t\t\t\t\tcontrol={form.control}\r\n \t\t\t\t\t\tname=\"disclosureConsent\"\r\n \t\t\t\t\t\tlabel=\"Yo conciento el uso de mi información médica para tratamiento y diagnóstico.\"\r\n \t\t\t\t\t/>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import {\r\n-\tDoctors,\r\n-\tgenderOptions,\r\n-\tIdentificationTypes,\r\n-\tPatientFormDefaultValues,\r\n-} from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-import { FileUploader } from '../FileUploader';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n \t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationType\"\r\n-\t\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n-\t\t\t\t\t\t\t\t{identification}\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationNumber\"\r\n-\t\t\t\t\t\tlabel=\"Número de identificación\"\r\n-\t\t\t\t\t\tplaceholder=\"1234565789\"\r\n-\t\t\t\t\t/>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationDocument\"\r\n-\t\t\t\t\t\tlabel=\"Subir documento de identificación\"\r\n-\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t<FileUploader\r\n-\t\t\t\t\t\t\t\t\tfiles={field.value}\r\n-\t\t\t\t\t\t\t\t\tonChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t></FileUploader>\r\n-\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t)}\r\n-\t\t\t\t\t/>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Consentimiento y Privacidad</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n \t\t\t\t\t\tfieldType={FormFieldType.CHECKBOX}\r\n \t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"tratmentConsent\"\r\n-\t\t\t\t\t\tlabel=\"Yo conciento a recibir tratamiento para mi condición médica.\"\r\n+\t\t\t\t\t\tname=\"privacyConsent\"\r\n+\t\t\t\t\t\tlabel=\"Yo conciento las políticas de privacidad de la clínica.\"\r\n \t\t\t\t\t/>\r\n \t\t\t\t</section>\r\n \r\n \t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n@@ -641,1242 +328,4 @@\n \t);\r\n };\r\n \r\n export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import {\r\n-\tDoctors,\r\n-\tgenderOptions,\r\n-\tIdentificationTypes,\r\n-\tPatientFormDefaultValues,\r\n-} from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-import { FileUploader } from '../FileUploader';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationType\"\r\n-\t\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n-\t\t\t\t\t\t\t\t{identification}\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationNumber\"\r\n-\t\t\t\t\t\tlabel=\"Número de identificación\"\r\n-\t\t\t\t\t\tplaceholder=\"1234565789\"\r\n-\t\t\t\t\t/>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationDocument\"\r\n-\t\t\t\t\t\tlabel=\"Subir documento de identificación\"\r\n-\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t<FileUploader\r\n-\t\t\t\t\t\t\t\t\tfiles={field.value}\r\n-\t\t\t\t\t\t\t\t\tonChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t></FileUploader>\r\n-\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t)}\r\n-\t\t\t\t\t/>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Consentimiento y Privacidad</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationNumber\"\r\n-\t\t\t\t\t\tlabel=\"Número de identificación\"\r\n-\t\t\t\t\t\tplaceholder=\"1234565789\"\r\n-\t\t\t\t\t/>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import {\r\n-\tDoctors,\r\n-\tgenderOptions,\r\n-\tIdentificationTypes,\r\n-\tPatientFormDefaultValues,\r\n-} from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-import { FileUploader } from '../FileUploader';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationType\"\r\n-\t\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n-\t\t\t\t\t\t\t\t{identification}\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationNumber\"\r\n-\t\t\t\t\t\tlabel=\"Número de identificación\"\r\n-\t\t\t\t\t\tplaceholder=\"1234565789\"\r\n-\t\t\t\t\t/>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationDocument\"\r\n-\t\t\t\t\t\tlabel=\"Subir documento de identificación\"\r\n-\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t<FileUploader\r\n-\t\t\t\t\t\t\t\t\tfiles={field.value}\r\n-\t\t\t\t\t\t\t\t\tonChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t></FileUploader>\r\n-\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t)}\r\n-\t\t\t\t\t/>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import {\r\n-\tDoctors,\r\n-\tgenderOptions,\r\n-\tIdentificationTypes,\r\n-\tPatientFormDefaultValues,\r\n-} from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-import { FileUploader } from '../FileUploader';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationType\"\r\n-\t\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n-\t\t\t\t\t\t\t\t{identification}\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationNumber\"\r\n-\t\t\t\t\t\tlabel=\"Número de identificación\"\r\n-\t\t\t\t\t\tplaceholder=\"1234565789\"\r\n-\t\t\t\t\t/>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationDocument\"\r\n-\t\t\t\t\t\tlabel=\"Subir documento de identificación\"\r\n-\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t<FileUploader></FileUploader>\r\n-\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t)}\r\n-\t\t\t\t\t/>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import {\r\n-\tDoctors,\r\n-\tgenderOptions,\r\n-\tIdentificationTypes,\r\n-\tPatientFormDefaultValues,\r\n-} from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-import FileUploader from '../FileUploader';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationType\"\r\n-\t\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n-\t\t\t\t\t\t\t\t{identification}\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationNumber\"\r\n-\t\t\t\t\t\tlabel=\"Número de identificación\"\r\n-\t\t\t\t\t\tplaceholder=\"1234565789\"\r\n-\t\t\t\t\t/>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationDocument\"\r\n-\t\t\t\t\t\tlabel=\"Subir documento de identificación\"\r\n-\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t<FileUploader></FileUploader>\r\n-\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t)}\r\n-\t\t\t\t\t/>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n"
                },
                {
                    "date": 1721338916215,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,331 @@\n+'use client';\r\n+import { zodResolver } from '@hookform/resolvers/zod';\r\n+import { useForm } from 'react-hook-form';\r\n+import { z } from 'zod';\r\n+import { Form, FormControl } from '@/components/ui/form';\r\n+import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n+import SubmitButton from '../SubmitButton';\r\n+import { useState } from 'react';\r\n+import { userFormValidation } from '@/lib/validation';\r\n+import { useRouter } from 'next/navigation';\r\n+import { createUser } from '@/lib/actions/patient.actions';\r\n+import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n+import {\r\n+\tDoctors,\r\n+\tgenderOptions,\r\n+\tIdentificationTypes,\r\n+\tPatientFormDefaultValues,\r\n+} from '@/constants';\r\n+import { Label } from '@/components/ui/label';\r\n+import { SelectItem } from '@/components/ui/select';\r\n+import Image from 'next/image';\r\n+import { PatientFormValidation } from '@/lib/validation';\r\n+import { FileUploader } from '../FileUploader';\r\n+\r\n+const RegisterForm = ({ user }: { user: User }) => {\r\n+\tconst router = useRouter();\r\n+\tconst [isLoading, setIsLoading] = useState(false);\r\n+\r\n+\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n+\t\tresolver: zodResolver(PatientFormValidation),\r\n+\t\tdefaultValues: {\r\n+\t\t\t...PatientFormDefaultValues,\r\n+\t\t\tname: '',\r\n+\t\t\temail: '',\r\n+\t\t\tphone: '',\r\n+\t\t},\r\n+\t});\r\n+\r\n+\tasync function onSubmit({\r\n+\t\tname,\r\n+\t\temail,\r\n+\t\tphone,\r\n+\t}: z.infer<typeof PatientFormValidation>) {\r\n+\t\tsetIsLoading(true);\r\n+\t\ttry {\r\n+\t\t\tconst userData = { name, email, phone };\r\n+\t\t\tconst res = await createUser(userData);\r\n+\r\n+\t\t\tif (!res?.error) {\r\n+\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n+\t\t\t} else {\r\n+\t\t\t\tconsole.log(res.data);\r\n+\t\t\t\tform.setError('root.serverError', {\r\n+\t\t\t\t\tmessage:\r\n+\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n+\t\t\t\t\ttype: '400',\r\n+\t\t\t\t});\r\n+\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n+\t\t\t}\r\n+\t\t} catch (e: any) {\r\n+\t\t\tconsole.log(e);\r\n+\t\t} finally {\r\n+\t\t\tsetIsLoading(false);\r\n+\t\t}\r\n+\t}\r\n+\treturn (\r\n+\t\t<Form {...form}>\r\n+\t\t\t<form\r\n+\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n+\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n+\t\t\t>\r\n+\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n+\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n+\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"name\"\r\n+\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n+\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n+\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n+\t\t\t\t\t\ticonAlt=\"user\"\r\n+\t\t\t\t\t/>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"email\"\r\n+\t\t\t\t\t\t\tlabel=\"Correo\"\r\n+\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"phone\"\r\n+\t\t\t\t\t\t\tlabel=\"Celular\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n+\t\t\t\t\t\t\ticonAlt=\"email\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"birthDate\"\r\n+\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"gender\"\r\n+\t\t\t\t\t\t\tlabel=\" Género\"\r\n+\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t\t<RadioGroup\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n+\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n+\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n+\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n+\t\t\t\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t\t\t\t))}\r\n+\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n+\t\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t\t)}\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"address\"\r\n+\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n+\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"primaryPhysician\"\r\n+\t\t\t\t\t\tlabel=\"Médico primario\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n+\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n+\t\t\t\t\t\t\t\t\t<Image\r\n+\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n+\t\t\t\t\t\t\t\t\t\twidth={32}\r\n+\t\t\t\t\t\t\t\t\t\theight={32}\r\n+\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n+\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n+\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n+\t\t\t\t\t\t\t\t</div>\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n+\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n+\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"allergies\"\r\n+\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"currentMedication\"\r\n+\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n+\t\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n+\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n+\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n+\t\t\t\t\t\t/>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n+\t\t\t\t\t</div>\r\n+\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationType\"\r\n+\t\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n+\t\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n+\t\t\t\t\t>\r\n+\t\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n+\t\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n+\t\t\t\t\t\t\t\t{identification}\r\n+\t\t\t\t\t\t\t</SelectItem>\r\n+\t\t\t\t\t\t))}\r\n+\t\t\t\t\t</CustomFormField>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationNumber\"\r\n+\t\t\t\t\t\tlabel=\"Número de identificación\"\r\n+\t\t\t\t\t\tplaceholder=\"1234565789\"\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"identificationDocument\"\r\n+\t\t\t\t\t\tlabel=\"Subir documento de identificación\"\r\n+\t\t\t\t\t\trenderSkeleton={(field) => (\r\n+\t\t\t\t\t\t\t<FormControl>\r\n+\t\t\t\t\t\t\t\t<FileUploader\r\n+\t\t\t\t\t\t\t\t\tfiles={field.value}\r\n+\t\t\t\t\t\t\t\t\tonChange={field.onChange}\r\n+\t\t\t\t\t\t\t\t></FileUploader>\r\n+\t\t\t\t\t\t\t</FormControl>\r\n+\t\t\t\t\t\t)}\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t</section>\r\n+\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n+\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n+\t\t\t\t\t\t<h2 className=\"sub-header\">Consentimiento y Privacidad</h2>\r\n+\t\t\t\t\t</div>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.CHECKBOX}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"treatmentConsent\"\r\n+\t\t\t\t\t\tlabel=\"Yo conciento a recibir tratamiento para mi condición médica.\"\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.CHECKBOX}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"disclosureConsent\"\r\n+\t\t\t\t\t\tlabel=\"Yo conciento el uso de mi información médica para tratamiento y diagnóstico.\"\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t\t<CustomFormField\r\n+\t\t\t\t\t\tfieldType={FormFieldType.CHECKBOX}\r\n+\t\t\t\t\t\tcontrol={form.control}\r\n+\t\t\t\t\t\tname=\"privacyConsent\"\r\n+\t\t\t\t\t\tlabel=\"Yo conciento las políticas de privacidad de la clínica.\"\r\n+\t\t\t\t\t/>\r\n+\t\t\t\t</section>\r\n+\r\n+\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n+\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n+\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n+\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n+\t\t\t\t\t</p>\r\n+\t\t\t\t)}\r\n+\t\t\t</form>\r\n+\t\t</Form>\r\n+\t);\r\n+};\r\n+\r\n+export default RegisterForm;\r\n"
                },
                {
                    "date": 1721338986547,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -154,9 +154,9 @@\n \t\t\t\t\t\t/>\r\n \t\t\t\t\t\t<CustomFormField\r\n \t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n \t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n+\t\t\t\t\t\t\tname=\"occupation\"\r\n \t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n \t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n \t\t\t\t\t\t/>\r\n \t\t\t\t\t</div>\r\n"
                },
                {
                    "date": 1721339004972,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -171,9 +171,9 @@\n \t\t\t\t\t\t<CustomFormField\r\n \t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n \t\t\t\t\t\t\tcontrol={form.control}\r\n \t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n+\t\t\t\t\t\t\tlabel=\"Número de contacto de emergencia\"\r\n \t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n \t\t\t\t\t\t/>\r\n \t\t\t\t\t</div>\r\n \t\t\t\t</section>\r\n@@ -328,335 +328,4 @@\n \t);\r\n };\r\n \r\n export default RegisterForm;\r\n-'use client';\r\n-import { zodResolver } from '@hookform/resolvers/zod';\r\n-import { useForm } from 'react-hook-form';\r\n-import { z } from 'zod';\r\n-import { Form, FormControl } from '@/components/ui/form';\r\n-import CustomFormField, { FormFieldType } from '../CustomFormField';\r\n-import SubmitButton from '../SubmitButton';\r\n-import { useState } from 'react';\r\n-import { userFormValidation } from '@/lib/validation';\r\n-import { useRouter } from 'next/navigation';\r\n-import { createUser } from '@/lib/actions/patient.actions';\r\n-import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\n-import {\r\n-\tDoctors,\r\n-\tgenderOptions,\r\n-\tIdentificationTypes,\r\n-\tPatientFormDefaultValues,\r\n-} from '@/constants';\r\n-import { Label } from '@/components/ui/label';\r\n-import { SelectItem } from '@/components/ui/select';\r\n-import Image from 'next/image';\r\n-import { PatientFormValidation } from '@/lib/validation';\r\n-import { FileUploader } from '../FileUploader';\r\n-\r\n-const RegisterForm = ({ user }: { user: User }) => {\r\n-\tconst router = useRouter();\r\n-\tconst [isLoading, setIsLoading] = useState(false);\r\n-\r\n-\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n-\t\tresolver: zodResolver(PatientFormValidation),\r\n-\t\tdefaultValues: {\r\n-\t\t\t...PatientFormDefaultValues,\r\n-\t\t\tname: '',\r\n-\t\t\temail: '',\r\n-\t\t\tphone: '',\r\n-\t\t},\r\n-\t});\r\n-\r\n-\tasync function onSubmit({\r\n-\t\tname,\r\n-\t\temail,\r\n-\t\tphone,\r\n-\t}: z.infer<typeof PatientFormValidation>) {\r\n-\t\tsetIsLoading(true);\r\n-\t\ttry {\r\n-\t\t\tconst userData = { name, email, phone };\r\n-\t\t\tconst res = await createUser(userData);\r\n-\r\n-\t\t\tif (!res?.error) {\r\n-\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n-\t\t\t} else {\r\n-\t\t\t\tconsole.log(res.data);\r\n-\t\t\t\tform.setError('root.serverError', {\r\n-\t\t\t\t\tmessage:\r\n-\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n-\t\t\t\t\ttype: '400',\r\n-\t\t\t\t});\r\n-\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n-\t\t\t}\r\n-\t\t} catch (e: any) {\r\n-\t\t\tconsole.log(e);\r\n-\t\t} finally {\r\n-\t\t\tsetIsLoading(false);\r\n-\t\t}\r\n-\t}\r\n-\treturn (\r\n-\t\t<Form {...form}>\r\n-\t\t\t<form\r\n-\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n-\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n-\t\t\t>\r\n-\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n-\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n-\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"name\"\r\n-\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n-\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n-\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n-\t\t\t\t\t\ticonAlt=\"user\"\r\n-\t\t\t\t\t/>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"email\"\r\n-\t\t\t\t\t\t\tlabel=\"Correo\"\r\n-\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"phone\"\r\n-\t\t\t\t\t\t\tlabel=\"Celular\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n-\t\t\t\t\t\t\ticonAlt=\"email\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"birthDate\"\r\n-\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"gender\"\r\n-\t\t\t\t\t\t\tlabel=\" Género\"\r\n-\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t\t<RadioGroup\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n-\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n-\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n-\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n-\t\t\t\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t\t\t\t))}\r\n-\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n-\t\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t\t)}\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"address\"\r\n-\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"ocupation\"\r\n-\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n-\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n-\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n-\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"primaryPhysician\"\r\n-\t\t\t\t\t\tlabel=\"Médico primario\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n-\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n-\t\t\t\t\t\t\t\t\t<Image\r\n-\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n-\t\t\t\t\t\t\t\t\t\twidth={32}\r\n-\t\t\t\t\t\t\t\t\t\theight={32}\r\n-\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n-\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n-\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n-\t\t\t\t\t\t\t\t</div>\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insuranceProvider\"\r\n-\t\t\t\t\t\t\tlabel=\"Proveedor de Seguro\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Rimac, Pacífico, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"insurancePolicyNumber\"\r\n-\t\t\t\t\t\t\tlabel=\"Número de póliza\"\r\n-\t\t\t\t\t\t\tplaceholder=\"ABC123456789\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"allergies\"\r\n-\t\t\t\t\t\t\tlabel=\"Alergias\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Maní, polen, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"currentMedication\"\r\n-\t\t\t\t\t\t\tlabel=\"Medicación actual\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Ibuprofeno, Paracetamol, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"familyMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico familiar\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Madre tuvo diabetes, padre tuvo cáncer, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\t\tfieldType={FormFieldType.TEXTAREA}\r\n-\t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"pastMedicalHistory\"\r\n-\t\t\t\t\t\t\tlabel=\"Historial médico pasado\"\r\n-\t\t\t\t\t\t\tplaceholder=\"Operaciones, enfermedades, etc.\"\r\n-\t\t\t\t\t\t/>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Identificación y Verificación</h2>\r\n-\t\t\t\t\t</div>\r\n-\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationType\"\r\n-\t\t\t\t\t\tlabel=\"Tipo de identificación\"\r\n-\t\t\t\t\t\tplaceholder=\"Seleccione un tipo de identificación\"\r\n-\t\t\t\t\t>\r\n-\t\t\t\t\t\t{IdentificationTypes.map((identification, i) => (\r\n-\t\t\t\t\t\t\t<SelectItem key={identification} value={identification}>\r\n-\t\t\t\t\t\t\t\t{identification}\r\n-\t\t\t\t\t\t\t</SelectItem>\r\n-\t\t\t\t\t\t))}\r\n-\t\t\t\t\t</CustomFormField>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationNumber\"\r\n-\t\t\t\t\t\tlabel=\"Número de identificación\"\r\n-\t\t\t\t\t\tplaceholder=\"1234565789\"\r\n-\t\t\t\t\t/>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"identificationDocument\"\r\n-\t\t\t\t\t\tlabel=\"Subir documento de identificación\"\r\n-\t\t\t\t\t\trenderSkeleton={(field) => (\r\n-\t\t\t\t\t\t\t<FormControl>\r\n-\t\t\t\t\t\t\t\t<FileUploader\r\n-\t\t\t\t\t\t\t\t\tfiles={field.value}\r\n-\t\t\t\t\t\t\t\t\tonChange={field.onChange}\r\n-\t\t\t\t\t\t\t\t></FileUploader>\r\n-\t\t\t\t\t\t\t</FormControl>\r\n-\t\t\t\t\t\t)}\r\n-\t\t\t\t\t/>\r\n-\t\t\t\t</section>\r\n-\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n-\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n-\t\t\t\t\t\t<h2 className=\"sub-header\">Consentimiento y Privacidad</h2>\r\n-\t\t\t\t\t</div>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.CHECKBOX}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"tratmentConsent\"\r\n-\t\t\t\t\t\tlabel=\"Yo conciento a recibir tratamiento para mi condición médica.\"\r\n-\t\t\t\t\t/>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.CHECKBOX}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"disclosureConsent\"\r\n-\t\t\t\t\t\tlabel=\"Yo conciento el uso de mi información médica para tratamiento y diagnóstico.\"\r\n-\t\t\t\t\t/>\r\n-\t\t\t\t\t<CustomFormField\r\n-\t\t\t\t\t\tfieldType={FormFieldType.CHECKBOX}\r\n-\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\tname=\"privacyConsent\"\r\n-\t\t\t\t\t\tlabel=\"Yo conciento las políticas de privacidad de la clínica.\"\r\n-\t\t\t\t\t/>\r\n-\t\t\t\t</section>\r\n-\r\n-\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n-\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n-\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n-\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n-\t\t\t\t\t</p>\r\n-\t\t\t\t)}\r\n-\t\t\t</form>\r\n-\t\t</Form>\r\n-\t);\r\n-};\r\n-\r\n-export default RegisterForm;\r\n"
                },
                {
                    "date": 1721339018541,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -170,9 +170,9 @@\n \t\t\t\t\t\t/>\r\n \t\t\t\t\t\t<CustomFormField\r\n \t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n \t\t\t\t\t\t\tcontrol={form.control}\r\n-\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n+\t\t\t\t\t\t\tname=\"emergencyContactNumber\"\r\n \t\t\t\t\t\t\tlabel=\"Número de contacto de emergencia\"\r\n \t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n \t\t\t\t\t\t/>\r\n \t\t\t\t\t</div>\r\n"
                }
            ],
            "date": 1721202372281,
            "name": "Commit-0",
            "content": "'use client';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { useForm } from 'react-hook-form';\r\nimport { z } from 'zod';\r\nimport { Form, FormControl } from '@/components/ui/form';\r\nimport CustomFormField, { FormFieldType } from '../CustomFormField';\r\nimport SubmitButton from '../SubmitButton';\r\nimport { useState } from 'react';\r\nimport { userFormValidation } from '@/lib/validation';\r\nimport { useRouter } from 'next/navigation';\r\nimport { createUser } from '@/lib/actions/patient.actions';\r\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\nimport { Doctors, genderOptions, PatientFormDefaultValues } from '@/constants';\r\nimport { Label } from '@/components/ui/label';\r\nimport { SelectItem } from '@radix-ui/react-select';\r\nimport Image from 'next/image';\r\nimport { PatientFormValidation } from '@/lib/validation';\r\n\r\nconst RegisterForm = ({ user }: { user: User }) => {\r\n\tconst router = useRouter();\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tconst form = useForm<z.infer<typeof PatientFormValidation>>({\r\n\t\tresolver: zodResolver(PatientFormValidation),\r\n\t\tdefaultValues: {\r\n\t\t\t...PatientFormDefaultValues,\r\n\t\t\tname: '',\r\n\t\t\temail: '',\r\n\t\t\tphone: '',\r\n\t\t},\r\n\t});\r\n\r\n\tasync function onSubmit({\r\n\t\tname,\r\n\t\temail,\r\n\t\tphone,\r\n\t}: z.infer<typeof PatientFormValidation>) {\r\n\t\tsetIsLoading(true);\r\n\t\ttry {\r\n\t\t\tconst userData = { name, email, phone };\r\n\t\t\tconst res = await createUser(userData);\r\n\r\n\t\t\tif (!res?.error) {\r\n\t\t\t\trouter.push(`/patients/${res?.data.$id}/register`);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tform.setError('root.serverError', {\r\n\t\t\t\t\tmessage:\r\n\t\t\t\t\t\t'Ya existe un usuario con la misma identificación, correo electrónico o teléfono en este proyecto.',\r\n\t\t\t\t\ttype: '400',\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(form.formState.errors?.root?.serverError.type);\r\n\t\t\t}\r\n\t\t} catch (e: any) {\r\n\t\t\tconsole.log(e);\r\n\t\t} finally {\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<Form {...form}>\r\n\t\t\t<form\r\n\t\t\t\tonSubmit={form.handleSubmit(onSubmit)}\r\n\t\t\t\tclassName=\"space-y-12 flex-1\"\r\n\t\t\t>\r\n\t\t\t\t<section className=\"mb-12 space-y-4\">\r\n\t\t\t\t\t<h1 className=\"header\">Bienvenido! ✋</h1>\r\n\t\t\t\t\t<p className=\"text-dark-700\">Déjanos conocer mas acerca de tí.</p>\r\n\t\t\t\t</section>\r\n\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n\t\t\t\t\t\t<h2 className=\"sub-header\">Información personal</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<CustomFormField\r\n\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n\t\t\t\t\t\tcontrol={form.control}\r\n\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\tlabel=\"Nombre completo\"\r\n\t\t\t\t\t\tplaceholder=\"Ej. Juan Pérez\"\r\n\t\t\t\t\t\ticonSrc=\"/assets/icons/user.svg\"\r\n\t\t\t\t\t\ticonAlt=\"user\"\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n\t\t\t\t\t\t<CustomFormField\r\n\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n\t\t\t\t\t\t\tcontrol={form.control}\r\n\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\tlabel=\"Correo\"\r\n\t\t\t\t\t\t\tplaceholder=\"drsamame@gmail.com\"\r\n\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n\t\t\t\t\t\t\ticonAlt=\"email\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<CustomFormField\r\n\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n\t\t\t\t\t\t\tcontrol={form.control}\r\n\t\t\t\t\t\t\tname=\"phone\"\r\n\t\t\t\t\t\t\tlabel=\"Celular\"\r\n\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n\t\t\t\t\t\t\ticonSrc=\"/assets/icons/email.svg\"\r\n\t\t\t\t\t\t\ticonAlt=\"email\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n\t\t\t\t\t\t<CustomFormField\r\n\t\t\t\t\t\t\tfieldType={FormFieldType.DATEPICKER}\r\n\t\t\t\t\t\t\tcontrol={form.control}\r\n\t\t\t\t\t\t\tname=\"birthDate\"\r\n\t\t\t\t\t\t\tlabel=\"Fecha de nacimiento\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<CustomFormField\r\n\t\t\t\t\t\t\tfieldType={FormFieldType.SKELETON}\r\n\t\t\t\t\t\t\tcontrol={form.control}\r\n\t\t\t\t\t\t\tname=\"gender\"\r\n\t\t\t\t\t\t\tlabel=\" Género\"\r\n\t\t\t\t\t\t\trenderSkeleton={(field) => (\r\n\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-11 gap-6 xl:justify-between\"\r\n\t\t\t\t\t\t\t\t\t\tonValueChange={field.onChange}\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue={field.value}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{genderOptions.map(({ label, value: option }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<div key={option} className=\"radio-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroupItem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={option}\r\n\t\t\t\t\t\t\t\t\t\t\t\t></RadioGroupItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={option} className=\"cursor-pointer\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n\t\t\t\t\t\t<CustomFormField\r\n\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n\t\t\t\t\t\t\tcontrol={form.control}\r\n\t\t\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n\t\t\t\t\t\t\tplaceholder=\"Av. Canada mz. 1 lt. 2\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<CustomFormField\r\n\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n\t\t\t\t\t\t\tcontrol={form.control}\r\n\t\t\t\t\t\t\tname=\"ocupation\"\r\n\t\t\t\t\t\t\tlabel=\"Ocupación\"\r\n\t\t\t\t\t\t\tplaceholder=\"Software Developer\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"flex flex-col gap-6 xl:flex-row\">\r\n\t\t\t\t\t\t<CustomFormField\r\n\t\t\t\t\t\t\tfieldType={FormFieldType.INPUT}\r\n\t\t\t\t\t\t\tcontrol={form.control}\r\n\t\t\t\t\t\t\tname=\"emergencyContactName\"\r\n\t\t\t\t\t\t\tlabel=\"Nombre de contacto de emergencia\"\r\n\t\t\t\t\t\t\tplaceholder=\"Rithe Irena Salazar Escajadillo\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<CustomFormField\r\n\t\t\t\t\t\t\tfieldType={FormFieldType.PHONE}\r\n\t\t\t\t\t\t\tcontrol={form.control}\r\n\t\t\t\t\t\t\tname=\"emergencyContactPhone\"\r\n\t\t\t\t\t\t\tlabel=\"Numbero de contacto de emergencia\"\r\n\t\t\t\t\t\t\tplaceholder=\"955061182\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\r\n\t\t\t\t<section className=\"mb-12 space-y-6\">\r\n\t\t\t\t\t<div className=\"mb-9 space-y-1\">\r\n\t\t\t\t\t\t<h2 className=\"sub-header\">Información Médica</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<CustomFormField\r\n\t\t\t\t\t\tfieldType={FormFieldType.SELECT}\r\n\t\t\t\t\t\tcontrol={form.control}\r\n\t\t\t\t\t\tname=\"primaryPhysician\"\r\n\t\t\t\t\t\tlabel=\"Médico primario\"\r\n\t\t\t\t\t\tplaceholder=\"Seleccione un médico\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{Doctors.map((doctor, i) => (\r\n\t\t\t\t\t\t\t<SelectItem key={doctor.name + i} value={doctor.name}>\r\n\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center gap-2\">\r\n\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\tsrc={doctor.image}\r\n\t\t\t\t\t\t\t\t\t\twidth={32}\r\n\t\t\t\t\t\t\t\t\t\theight={32}\r\n\t\t\t\t\t\t\t\t\t\talt=\"doctor\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full border border-dark-500\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<p>{doctor.name}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</SelectItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</CustomFormField>\r\n\t\t\t\t</section>\r\n\t\t\t\t<SubmitButton isLoading={isLoading}>Empezar</SubmitButton>\r\n\t\t\t\t{form.formState.errors?.root?.serverError.type == 400 && (\r\n\t\t\t\t\t<p className=\"text-sm font-medium text-destructive shad-error\">\r\n\t\t\t\t\t\t{form.formState.errors?.root?.serverError.message}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t)}\r\n\t\t\t</form>\r\n\t\t</Form>\r\n\t);\r\n};\r\n\r\nexport default RegisterForm;\r\n"
        }
    ]
}